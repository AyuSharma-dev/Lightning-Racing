<template>
    <div class="header slds-var-p-around_medium">
        <div class="slds-grid">
            <div class="slds-col slds-size_2-of-12">
                Score: {score}
            </div>
            <div class="slds-col slds-size_2-of-12 slds-text-align_center">
                Level: {level}
            </div>
            <div class="slds-col slds-size_2-of-12 slds-text-align_right">
                High Score: {highScore}
            </div>
            <div class="slds-col slds-size_2-of-12 slds-text-align_right">
                <lightning-button variant="brand" label="Stop" title="Stop" onclick={stopLoop}></lightning-button>
            </div>
        </div>
    </div>
    <div class="game-container">
        <div class="slds-grid">
            <div class="slds-col slds-size_3-of-12">
                <div class="sideWays" ></div>
            </div>
            <div class="slds-col slds-size_6-of-12">
                <div class="game-play">
                    <template for:each={gameBlocks} for:item="block">
                        <div
                            class={block.class}
                            data-reference={block.id}
                            key={block.id}
                        >
                            &nbsp;
                        </div>
                    </template>
                </div>
                <template if:true={showOverlay}>
                    <div class="overlay">
                        <div class="overlay-content">
                            <template if:true={pause}>
                                <div class="slds-text-heading_large">Game Paused!</div>
                                <br />
                                <div class="slds-text-heading_large">Press "P" to resume.</div>
                            </template>
                            <template if:true={gameOver}>
                                <div class="slds-text-heading_large">Game Over!</div>
                                <br />
                                <button
                                    class="slds-button slds-button_brand"
                                    onclick={resetGame}
                                >
                                    Play Again
                                </button>
                            </template>
                            <template if:false={pause} >
                                <template if:false={gameOver}>
                                    <div class="slds-text-heading_medium">
                                        Use Arrow Keys to move the Car
                                    </div><br/>
                                    <div class="slds-text-heading_medium">
                                        Press "P" to pause the game.
                                    </div>
                                    <br />
                                    <button
                                        class="slds-button slds-button_brand"
                                        onclick={startGame}
                                    >
                                        Start Game
                                    </button>
                                </template>
                            </template>
                            
                        </div>
                    </div>
                </template>
            </div>
            <div class="slds-col slds-size_3-of-12">
                <div class="sideWays" ></div>
            </div>
        </div>
        
    </div>
</template>