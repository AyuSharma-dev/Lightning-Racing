<template>
    <div class="game-container">
        <div class="slds-grid">
            <div class="slds-col slds-size_12-of-12">
                <div class="slds-grid">
                    <div class="slds-col slds-size_4-of-12">
                        <div class="sideWays" ></div>
                    </div>
                    <div class="slds-col slds-size_8-of-12">
                        <div class="game-play">
                            <template for:each={gameBlocks} for:item="block">
                                <div
                                    class={block.class}
                                    data-reference={block.id}
                                    key={block.id}
                                >
                                    &nbsp;
                                </div>
                            </template>
                        </div>
                        <template if:true={showOverlay}>
                            <div class="overlay">
                                <div class="overlay-content">
                                    <template if:true={pause}>
                                        <div class="slds-text-heading_large">Game Paused!</div>
                                        <br />
                                        <div class="slds-text-heading_large">Press "P" to resume.</div>
                                    </template>
                                    <template if:true={gameOver}>
                                        <div class="slds-text-heading_large">Game Over!</div>
                                        <br />
                                        <button
                                            class="slds-button slds-button_brand"
                                            onclick={resetGame}
                                        >
                                            Play Again
                                        </button>
                                    </template>
                                    <template if:false={pause} >
                                        <template if:false={gameOver}>
                                            <div class="slds-text-heading_medium">
                                                Use Arrow Keys to move the Car
                                            </div><br/>
                                            <div class="slds-text-heading_medium">
                                                Press "P" to pause the game.
                                            </div>
                                            <br />
                                            <button
                                                class="slds-button slds-button_brand"
                                                onclick={startGame}
                                            >
                                                Start Game
                                            </button>
                                        </template>
                                    </template>
                                    
                                </div>
                            </div>
                        </template>
                    </div>
                    <div class="slds-col slds-size_4-of-12">
                        <div class="sideWays" ></div>
                    </div>
                </div>
            </div>
            <div class="slds-col slds-size_2-of-12 scoreBoard">
                <div class="scorePoints">
                    <div style="margin-bottom: 10px;">
                        Score: {score}
                    </div>
                    <div style="margin-bottom: 10px;">
                        Level: {level}
                    </div>
                    <div style="margin-bottom: 10px;">
                        High Score: {highScore}
                    </div>
                    <br/><br/><br/>
                    <div style="margin-bottom: 10px;">
                        Use "Arrow Keys" to move car left and right.
                    </div>
                    <div style="margin-bottom: 10px;">
                        Press "P" to Pause the Game
                    </div>
                    <div style="margin-bottom: 10px;">
                        Press "K" to Mute
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>